{"head":{"title":"2.3 switch case statements","route":"2/3-switch-case-statements","id":30009,"description":"} }"},"body":"<html><head></head><body><h4>Xin chào các bạn học viên đang theo dõi khóa học lập trình trực tuyến ngôn ngữ C++.</h4>\n\n<p>Trong bài học này, chúng ta cùng nhau tìm hiểu câu lệnh được xây dựng sẵn trong ngôn ngữ lập trình C++ cũng được đưa vào dạng cấu trúc rẽ nhánh có điều kiện. Đó là câu lệnh được tạo nên bởi từ khóa <strong>switch</strong> và <strong>case</strong>, còn gọi là <strong>switch case statement</strong>.</p>\n\n<p><strong>switch case statement</strong> thường được dùng để thay thế cho <strong>if statement</strong> trong trường hợp số lượng trường hợp cần so sánh quá dài. Mặc dù chúng ta có thể sử dụng kỹ thuật <strong>chaining if statement</strong> để nối các trường hợp cần kiểm tra lại với nhau, nhưng nó khiến chương trình khó đọc. Ví dụ:</p>\n\n<pre><code class=\"hljs language-cpp\"><span class=\"hljs-function\"><span class=\"hljs-keyword\">int</span> <span class=\"hljs-title\">main</span><span class=\"hljs-params\">()</span>\n</span>{\n\t<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; <span class=\"hljs-string\">\"1: BLACK\\n2: BLUE\\n3: GREEN\\n4: YELLOW\\n5: WHITE\"</span> &#x3C;&#x3C; <span class=\"hljs-built_in\">endl</span>;\n\t<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; <span class=\"hljs-string\">\"Enter your favorite color: \"</span>;\n\t<span class=\"hljs-keyword\">int</span> color;\n\t<span class=\"hljs-built_in\">cin</span> >> color;\n\n\t<span class=\"hljs-keyword\">if</span> (color == <span class=\"hljs-number\">1</span>)\n\t\t<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; <span class=\"hljs-string\">\"You like BLACK color\"</span> &#x3C;&#x3C; <span class=\"hljs-built_in\">endl</span>;\n\t<span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (color == <span class=\"hljs-number\">2</span>)\n\t\t<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; <span class=\"hljs-string\">\"You like BLUE color\"</span> &#x3C;&#x3C; <span class=\"hljs-built_in\">endl</span>;\n\t<span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (color == <span class=\"hljs-number\">3</span>)\n\t\t<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; <span class=\"hljs-string\">\"You like GREEN color\"</span> &#x3C;&#x3C; <span class=\"hljs-built_in\">endl</span>;\n\t<span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (color == <span class=\"hljs-number\">4</span>)\n\t\t<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; <span class=\"hljs-string\">\"You like YELLOW color\"</span> &#x3C;&#x3C; <span class=\"hljs-built_in\">endl</span>;\n\t<span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (color == <span class=\"hljs-number\">5</span>)\n\t\t<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; <span class=\"hljs-string\">\"You like WHITE color\"</span> &#x3C;&#x3C; <span class=\"hljs-built_in\">endl</span>;\n\t<span class=\"hljs-keyword\">else</span>\n\t\t<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; <span class=\"hljs-string\">\"Unknown\"</span> &#x3C;&#x3C; <span class=\"hljs-built_in\">endl</span>;\n\n\tsystem(<span class=\"hljs-string\">\"pause\"</span>);\n\t<span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">0</span>;\n}</code></pre>\n\n<p>Cũng với ví dụ mẫu này, mình sẽ chuyển nó về cấu trúc switch ... case để các bạn có cái nhìn đầu tiên về <strong>switch case statement</strong>:</p>\n\n<pre><code class=\"hljs language-cpp\"><span class=\"hljs-function\"><span class=\"hljs-keyword\">int</span> <span class=\"hljs-title\">main</span><span class=\"hljs-params\">()</span>\t\n</span>{\n\t<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; <span class=\"hljs-string\">\"1: BLACK\\n2: BLUE\\n3: GREEN\\n4: YELLOW\\n5: WHITE\"</span> &#x3C;&#x3C; <span class=\"hljs-built_in\">endl</span>;\n\t<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; <span class=\"hljs-string\">\"Enter your favorite color: \"</span>;\n\t<span class=\"hljs-keyword\">int</span> color;\n\t<span class=\"hljs-built_in\">cin</span> >> color;\n\n\t<span class=\"hljs-keyword\">switch</span> (color)\n\t{\n\t\t<span class=\"hljs-keyword\">case</span> <span class=\"hljs-number\">1</span>:\n\t\t\t<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; <span class=\"hljs-string\">\"You like BLACK color\"</span> &#x3C;&#x3C; <span class=\"hljs-built_in\">endl</span>;\n\t\t\t<span class=\"hljs-keyword\">break</span>;\n\t\t<span class=\"hljs-keyword\">case</span> <span class=\"hljs-number\">2</span>:\n\t\t\t<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; <span class=\"hljs-string\">\"You like BLUE color\"</span> &#x3C;&#x3C; <span class=\"hljs-built_in\">endl</span>;\n\t\t\t<span class=\"hljs-keyword\">break</span>;\n\t\t<span class=\"hljs-keyword\">case</span> <span class=\"hljs-number\">3</span>:\n\t\t\t<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; <span class=\"hljs-string\">\"You like GREEN color\"</span> &#x3C;&#x3C; <span class=\"hljs-built_in\">endl</span>;\n\t\t\t<span class=\"hljs-keyword\">break</span>;\n\t\t<span class=\"hljs-keyword\">case</span> <span class=\"hljs-number\">4</span>:\n\t\t\t<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; <span class=\"hljs-string\">\"You like YELLOW color\"</span> &#x3C;&#x3C; <span class=\"hljs-built_in\">endl</span>;\n\t\t\t<span class=\"hljs-keyword\">break</span>;\n\t\t<span class=\"hljs-keyword\">case</span> <span class=\"hljs-number\">5</span>:\n\t\t\t<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; <span class=\"hljs-string\">\"You like WHITE color\"</span> &#x3C;&#x3C; <span class=\"hljs-built_in\">endl</span>;\n\t\t\t<span class=\"hljs-keyword\">break</span>;\n\t\t<span class=\"hljs-keyword\">default</span>:\n\t\t\t<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; <span class=\"hljs-string\">\"Unknown\"</span> &#x3C;&#x3C; <span class=\"hljs-built_in\">endl</span>;\n\t\t\t<span class=\"hljs-keyword\">break</span>;\n\t}\n\n\tsystem(<span class=\"hljs-string\">\"pause\"</span>);\n\t<span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">0</span>;\n}</code></pre>\n\n<p>Các bạn có thể hiểu cấu trúc rẽ nhánh với <strong>switch case statement</strong> như sau: <strong>switch</strong> nhận vào 1 biến hoặc 1 biểu thức có giá trị kiểu số nguyên, mỗi nhãn <strong>case</strong> sẽ gắn kèm với 1 số nguyên cụ thể và chúng sẽ được lần lượt so sánh bằng (equality) với giá trị của biến (hoặc biểu thức) trong <strong>switch</strong>. Nếu nhãn case nào có giá trị tương xứng với biến hoặc biểu thức trong <strong>switch</strong>, những câu lệnh đứng sau nhãn đó sẽ được thực thi. Nếu không có nhãn nào có giá trị tương xứng, các câu lệnh đứng sau nhãn <strong>default</strong> sẽ được thực thi.</p>\n\n<p>Như vậy, chúng ta có thể đưa ra khuôn dạng của <strong>switch case statement</strong> như sau:</p>\n\n<pre><code class=\"hljs language-smali\">switch ( &#x3C;variable> ) \n{\ncase this-value:\n\t//Code to<span class=\"hljs-built_in\"> execute </span>if &#x3C;variable> == this-value\n\tbreak;\ncase that-value:\n\tCode to<span class=\"hljs-built_in\"> execute </span>if &#x3C;variable> == that-value\n\tbreak;\n//.......................\ndefault:\n\t//Code to<span class=\"hljs-built_in\"> execute </span>if &#x3C;variable> does<span class=\"hljs-built_in\"> not </span>equal the value following any of the cases\n\tbreak;\n}</code></pre>\n\n<ul>\n<li>\n<strong>switch statement</strong> được bắt đầu bởi từ khóa <strong>switch</strong>, theo sau đó là một giá trị số nguyên (thường là một biến đơn), có thể là một biểu thức <strong>(ví dụ 3 * 2 + 5)</strong>. Một hạn chế của switch statement là biểu thức điều kiện chỉ có thể thuộc 1 trong số các kiểu số nguyên <strong>(char, short, int, long, int32_t, enum, ...).</strong>\n</li>\n<li>\n<p><strong>case label</strong> được định nghĩa thông qua từ khóa <strong>case</strong>, theo sau từ khóa case là một hằng số, một giá trị cụ thể. <strong>Lưu ý: Các nhãn case khác nhau phải được theo sau bởi các giá trị khác nhau.</strong> Ví dụ:</p>\n<pre><code class=\"hljs language-actionscript\"><span class=\"hljs-keyword\">switch</span> (x)\n{\n\t<span class=\"hljs-keyword\">case</span> <span class=\"hljs-number\">1</span>:\n\t<span class=\"hljs-keyword\">case</span> <span class=\"hljs-number\">1</span>: <span class=\"hljs-comment\">//illegal</span>\n}</code></pre>\n</li>\n<li><p><strong>default label</strong> được định nghĩa thông qua từ khóa <strong>default</strong>. Những câu lệnh đứng sau nhãn này chỉ được thực thi nếu không có nhãn <strong>case</strong> nào có giá trị tương ứng với biểu thức điều kiện của <strong>switch</strong>. Lưu ý: cấu trúc switch ... case có thể không cần sử dụng nhãn <strong>default</strong>.</p></li>\n<li>\n<p><strong>break</strong> là một từ khóa trong ngôn ngữ C/C++, khi sử dụng trong <strong>switch case statement</strong> sẽ khiến chương trình thoát ra khỏi khối lệnh của cấu trúc <strong>switch</strong>. Chúng ta cần đặt từ khóa <strong>break</strong> tại cuối các câu lệnh của mỗi nhãn <strong>case</strong> để ngăn cách các <strong>case</strong> riêng biệt. Chúng ta cùng nhìn vào ví dụ sau khi không sử dụng từ khóa <strong>break</strong> thì điều gì sẽ xảy ra:</p>\n<pre><code class=\"hljs language-cpp\"><span class=\"hljs-keyword\">switch</span> (<span class=\"hljs-number\">2</span>)\n{\n   <span class=\"hljs-keyword\">case</span> <span class=\"hljs-number\">1</span>: <span class=\"hljs-comment\">// Does not match</span>\n       <span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; <span class=\"hljs-number\">1</span> &#x3C;&#x3C; <span class=\"hljs-string\">'\\n'</span>; <span class=\"hljs-comment\">// skipped</span>\n   <span class=\"hljs-keyword\">case</span> <span class=\"hljs-number\">2</span>: <span class=\"hljs-comment\">// Match!</span>\n       <span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; <span class=\"hljs-number\">2</span> &#x3C;&#x3C; <span class=\"hljs-string\">'\\n'</span>; <span class=\"hljs-comment\">// Execution begins here</span>\n   <span class=\"hljs-keyword\">case</span> <span class=\"hljs-number\">3</span>:\n       <span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; <span class=\"hljs-number\">3</span> &#x3C;&#x3C; <span class=\"hljs-string\">'\\n'</span>; <span class=\"hljs-comment\">// This is also executed</span>\n   <span class=\"hljs-keyword\">case</span> <span class=\"hljs-number\">4</span>:\n       <span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; <span class=\"hljs-number\">4</span> &#x3C;&#x3C; <span class=\"hljs-string\">'\\n'</span>; <span class=\"hljs-comment\">// This is also executed</span>\n   <span class=\"hljs-keyword\">default</span>:\n       <span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; <span class=\"hljs-number\">5</span> &#x3C;&#x3C; <span class=\"hljs-string\">'\\n'</span>; <span class=\"hljs-comment\">// This is also executed</span>\n}</code></pre>\n<p>Với ví dụ này, kết quả in ra sẽ là:</p>\n<pre><code class=\"hljs language-lsl\"><span class=\"hljs-number\">2</span>\n<span class=\"hljs-number\">3</span>\n<span class=\"hljs-number\">4</span>\n<span class=\"hljs-number\">5</span></code></pre>\n<p>Đây là kết quả ngoài ý muốn, trường hợp này được gọi là <strong>fall-through</strong>. Để khắc phục trường hợp này, chúng ta cần sử dụng thêm từ khóa <strong>break</strong> đặt tại cuối mỗi nhãn <strong>case</strong>:</p>\n<pre><code class=\"hljs language-cpp\"><span class=\"hljs-keyword\">switch</span> (<span class=\"hljs-number\">2</span>)\n{\n   <span class=\"hljs-keyword\">case</span> <span class=\"hljs-number\">1</span>: <span class=\"hljs-comment\">// Does not match</span>\n       <span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; <span class=\"hljs-number\">1</span> &#x3C;&#x3C; <span class=\"hljs-string\">'\\n'</span>; <span class=\"hljs-comment\">// skipped</span>\n\t   <span class=\"hljs-keyword\">break</span>;\n   <span class=\"hljs-keyword\">case</span> <span class=\"hljs-number\">2</span>: <span class=\"hljs-comment\">// Match!</span>\n       <span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; <span class=\"hljs-number\">2</span> &#x3C;&#x3C; <span class=\"hljs-string\">'\\n'</span>; <span class=\"hljs-comment\">// Execution begins here</span>\n   \t   <span class=\"hljs-keyword\">break</span>;\n   <span class=\"hljs-keyword\">case</span> <span class=\"hljs-number\">3</span>:\n       <span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; <span class=\"hljs-number\">3</span> &#x3C;&#x3C; <span class=\"hljs-string\">'\\n'</span>; <span class=\"hljs-comment\">// This is also executed</span>\n\t   <span class=\"hljs-keyword\">break</span>;\n   <span class=\"hljs-keyword\">case</span> <span class=\"hljs-number\">4</span>:\n       <span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; <span class=\"hljs-number\">4</span> &#x3C;&#x3C; <span class=\"hljs-string\">'\\n'</span>; <span class=\"hljs-comment\">// This is also executed</span>\n\t   <span class=\"hljs-keyword\">break</span>;\n   <span class=\"hljs-keyword\">default</span>:\n       <span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; <span class=\"hljs-number\">5</span> &#x3C;&#x3C; <span class=\"hljs-string\">'\\n'</span>; <span class=\"hljs-comment\">// This is also executed</span>\n}</code></pre>\n</li>\n</ul>\n\n<h5>Khai báo và khởi tạo biến trong case statement</h5>\n\n<p>Chúng ta có thể khai báo biến bên trong mỗi case statement, nhưng chúng ta không thể khởi tạo giá trị cho chúng.</p>\n\n<pre><code class=\"hljs language-cpp\"><span class=\"hljs-keyword\">switch</span> (x)\n{\n    <span class=\"hljs-keyword\">case</span> <span class=\"hljs-number\">1</span>:\n        <span class=\"hljs-keyword\">int</span> y; <span class=\"hljs-comment\">// declaration is allowed</span>\n        y = <span class=\"hljs-number\">4</span>; <span class=\"hljs-comment\">// this is an assignment</span>\n        <span class=\"hljs-keyword\">break</span>;\n \n    <span class=\"hljs-keyword\">case</span> <span class=\"hljs-number\">2</span>:\n        y = <span class=\"hljs-number\">5</span>; <span class=\"hljs-comment\">// y was declared above, so we can use it here too</span>\n        <span class=\"hljs-keyword\">break</span>;\n \n    <span class=\"hljs-keyword\">case</span> <span class=\"hljs-number\">3</span>:\n        <span class=\"hljs-keyword\">int</span> z = <span class=\"hljs-number\">4</span>; <span class=\"hljs-comment\">// illegal, you can't initialize new variables in the case statements</span>\n        <span class=\"hljs-keyword\">break</span>;\n \n    <span class=\"hljs-keyword\">default</span>:\n        <span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; <span class=\"hljs-string\">\"default case\"</span> &#x3C;&#x3C; <span class=\"hljs-built_in\">std</span>::<span class=\"hljs-built_in\">endl</span>;\n        <span class=\"hljs-keyword\">break</span>;\n}</code></pre>\n\n<p>Nhưng chúng ta nên tránh khai báo biến bên trong case statement, nó sẽ khiến chương trình chúng ta khó đọc hơn. Chúng ta có nhiều giải pháp thay thế dễ hiểu hơn, nếu có dịp mình sẽ hướng dẫn cho các bạn.</p>\n\n<hr>\n\n<h3>Tổng kết</h3>\n\n<p>Vậy là chúng ta đã làm quen thêm một dạng cấu trúc rẽ nhánh có điều kiện khác. If statement được sử dụng khi muốn kiểm tra tính đúng sai của một hoặc một số mệnh đề. Switch case statement được sử dụng khi muốn kiểm tra một giá trị số nguyên. Đối với trường hợp số lượng biểu thức điều kiện cần so sánh là quá nhiều, chúng ta ưu tiên sử dụng <strong>switch case statement</strong> hơn vì cú pháp rõ ràng hơn.</p>\n\n<p>Chúng ta có thể biểu diễn cấu trúc của <strong>switch case statement</strong> dưới dạng sơ đồ khối như sau:</p>\n\n<p><img src=\"https://raw.githubusercontent.com/nguyenchiemminhvu/CPP-Tutorial/master/2-cau-truc-re-nhanh/2-3-cau-lenh-switch-case/0.png\" width=\"357\" height=\"401\"></p>\n\n<h3>Bài tập cơ bản</h3>\n\n<p>Viết chương trình nhập vào tháng, in ra tháng đó có bao nhiêu ngày.</p>\n\n<p>Gợi ý: Nhập vào tháng</p>\n\n<ul>\n<li>Nếu là tháng 1, 3, 5, 7, 8, 10, 12 thì có 31 ngày.</li>\n<li>Nếu là tháng 4, 6, 9, 11 thì có 30 ngày.</li>\n<li>Nếu là tháng 2 thì có 28 ngày (vì chúng ta chưa xét đến năm).</li>\n</ul>\n\n<p>Lợi dụng trường hợp <strong>fall-through</strong> để tổ chức chương trình ngắn gọn hơn.</p>\n\n<hr>\n\n<p>P/s: <strong>Hẹn gặp lại các bạn trong bài học tiếp theo trong khóa học lập trình C++ hướng thực hành.</strong></p>\n\n<p>Mọi ý kiến đóng góp hoặc thắc mắc có thể đặt câu hỏi trực tiếp tại diễn đàn </p>\n\n<p><strong><a href=\"http://www.daynhauhoc.com\">www.daynhauhoc.com</a></strong></p>\n\n<hr>\n\n<h3>Link Videos khóa học</h3>\n\n<p><a href=\"https://www.udemy.com/c-co-ban-danh-cho-nguoi-moi-hoc-lap-trinh/learn/v4/overview\" class=\"onebox\" target=\"_blank\" rel=\"nofollow\">https://www.udemy.com/c-co-ban-danh-cho-nguoi-moi-hoc-lap-trinh/learn/v4/overview</a></p>\n</body></html>","__filename":"generated/30009.md","__url":"/2/3-switch-case-statements/","__resourceUrl":"/2/3-switch-case-statements/index.html","__dataUrl":"/2/3-switch-case-statements/index.html.51348d4d78f70d37586bb9c11de9341f.json"}
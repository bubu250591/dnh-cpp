{"head":{"title":"5.2 Thư viện array trong STL","route":"5/2-thu-vien-array-trong-stl","id":30083,"description":"//Access to all of elements of arr object for (int32_t index = 0; index &lt;= arr.size() - 1; index++) { \tcout &lt;&lt; arr[index] &lt;&lt;…"},"body":"<html><head></head><body><h4>Chào các bạn! Rất vui khi nhận được sự theo dõi của các bạn trong khóa học lập trình trực tuyến ngôn ngữ C++ này.</h4>\n\n<p>Đến với bài học ngày hôm nay, chúng ta sẽ tiếp tục làm việc với kiểu dữ liệu mảng một chiều, nhưng chúng ta sẽ sử dụng thư viện <strong>array</strong> trong <strong>namespace std</strong>. </p>\n\n<p>Đây là một thư viện giúp chúng ta sử dụng mảng một chiều một cách hiệu quả, rõ ràng hơn, ngoài ra nó còn giúp chúng ta hạn chế được lỗi thường gặp như truy cập đến chỉ số vượt ngoài giới hạn số phần tử đang sử dụng.</p>\n\n<h3>Thư viện array</h3>\n\n<p>Để sử dụng thư viện <strong>array</strong>, các bạn chỉ cần include thư viện này như sau:</p>\n\n<pre><code class=\"hljs language-cpp\"><span class=\"hljs-meta\">#<span class=\"hljs-meta-keyword\">include</span> <span class=\"hljs-meta-string\">&#x3C;array></span></span>\n<span class=\"hljs-keyword\">using</span> <span class=\"hljs-keyword\">namespace</span> <span class=\"hljs-built_in\">std</span>;</code></pre>\n\n<p>Chúng ta cũng cần có thêm dòng khai báo <strong>namespace std</strong> vì thư viện <strong>array</strong> được định nghĩa bên trong nó.</p>\n\n<p>Thư viện <strong>array</strong> cung cấp cho chúng ta kiểu dữ liệu <strong>array</strong>, biến được tạo ra bởi kiểu dữ liệu này chỉ là một biến đơn, nhưng vùng nhớ mà nó quản lý sẽ tương đương với số lượng phần tử tối đa mà chúng ta khai báo từ trước (gần giống như mảng một chiều). </p>\n\n<p>Đối tượng được tạo ra bởi lớp <strong>array</strong> chỉ cung cấp cho chúng ta một vùng nhớ để lưu trữ một số lượng phần tử xác định trước, nhưng thông qua một số phương thức được định nghĩa bên trong lớp <strong>array</strong> này, chúng ta còn có thể truy xuất một số thông tin liên quan như số lượng phần tử, kiểm tra mảng có rỗng hay không, ...</p>\n\n<h5>Khai báo biến với kiểu dữ liệu array</h5>\n\n<p>Một đối tượng có kiểu array khi được khai báo cần xác định được 2 điều:</p>\n\n<ul>\n<li>Kiểu dữ liệu của các phần tử mà biến array sẽ chứa.</li>\n<li>Số lượng phần tử tối đa của mảng.</li>\n</ul>\n\n<p>Cú pháp khai báo biến kiểu <strong>array</strong>:</p>\n\n<p><code>array&#x3C; &#x3C;data_type>, &#x3C;number_of_elements> > &#x3C;array_name>;</code></p>\n\n<p>Ví dụ chúng ta cần sử dụng một mảng kiểu <strong>int32_t</strong> có 10 phần tử, chúng ta khai báo như sau:</p>\n\n<pre><code class=\"hljs language-cpp\"><span class=\"hljs-built_in\">array</span>&#x3C;<span class=\"hljs-keyword\">int32_t</span>, 10> arr;</code></pre>\n\n<h5>Khởi tạo giá trị</h5>\n\n<p>Khi chưa khởi tạo giá trị cho biến kiểu <strong>array</strong>, chúng ta sẽ nhận được những giá trị không có ý nghĩa khi in chúng ra màn hình. Ví dụ với mảng <strong>arr</strong> trên:</p>\n\n<p><img src=\"https://github.com/nguyenchiemminhvu/CPP-Tutorial/blob/master/5-kieu-du-lieu-mang/5-2-thu-vien-array-trong-STL/0.png?raw=true\" width=\"670\" height=\"339\"></p>\n\n<p>Chúng ta có thể khởi tạo giá trị cho toàn bộ phần tử trong mảng chỉ với 1 dòng lệnh:</p>\n\n<p><code>&#x3C;array_name>.assign(&#x3C;value>);</code></p>\n\n<p>Giả sử mình muốn gán giá trị 10 cho toàn bộ phần tử trong mảng <strong>arr</strong>, mình viết như sau:</p>\n\n<pre><code class=\"hljs language-less\">arr<span class=\"hljs-selector-class\">.assign</span>(<span class=\"hljs-number\">10</span>);</code></pre>\n\n<p>Kết quả của việc in mảng arr ra màn hình sau khi khởi tạo:</p>\n\n<p><img src=\"https://github.com/nguyenchiemminhvu/CPP-Tutorial/blob/master/5-kieu-du-lieu-mang/5-2-thu-vien-array-trong-STL/1.png?raw=true\" width=\"665\" height=\"334\"></p>\n\n<h5>Truy xuất đến các thành phần trong biến có kiểu array</h5>\n\n<p>Chúng ta có thể truy cập đến một phần tử của đối tượng của lớp <strong>array</strong> bằng toán tử [ ] như lúc các bạn sử dụng mảng một chiều. Ví dụ:</p>\n\n<pre><code class=\"hljs language-less\">arr<span class=\"hljs-selector-attr\">[1]</span>;</code></pre>\n\n<p>Hoặc các bạn có thể sử dụng phương thức <strong>at(<code>&#x3C;index></code>)</strong> được định nghĩa trong lớp <strong>array</strong> như sau:</p>\n\n<pre><code class=\"hljs language-less\">arr<span class=\"hljs-selector-class\">.at</span>(<span class=\"hljs-number\">1</span>);</code></pre>\n\n<p>Sử dụng <strong>arr[1]</strong> và <strong>arr.at(1)</strong> đều trả về kết quả là giá trị của phần tử thứ 2 trong mảng.</p>\n\n<h5>Truy xuất một số thông tin bên trong đối tượng của lớp array</h5>\n\n<p>Chúng ta có thể truy xuất một vài thông tin liên quan đến mảng một chiều bằng một số phương thức bên trong đối tượng của lớp <strong>array</strong>.</p>\n\n<ul>\n<li>\n<p>Xem số lượng phần tử mà đối tượng của lớp <strong>array</strong> có thể chứa:</p>\n<pre><code class=\"hljs language-cpp\"><span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; <span class=\"hljs-string\">\"Number of elements: \"</span> &#x3C;&#x3C; arr.size() &#x3C;&#x3C; <span class=\"hljs-built_in\">endl</span>;</code></pre>\n<p>Phương thức size() trả về số lượng phần tử mà bạn đã khai báo lúc tạo ra đối tượng của class <strong>array</strong>.</p>\n</li>\n<li>\n<p>Kiểm tra xem mảng một chiều được chứa bên trong đối tượng của lớp <strong>array</strong> có rỗng hay không:</p>\n<p>Mảng một chiều rỗng nghĩa là số lượng phần tử bằng 0.</p>\n<pre><code class=\"hljs language-cpp\"><span class=\"hljs-keyword\">if</span>(arr.empty())\n\t<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; <span class=\"hljs-string\">\"Array is empty.\"</span> &#x3C;&#x3C; <span class=\"hljs-built_in\">endl</span>;\n<span class=\"hljs-keyword\">else</span>\n\t<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; <span class=\"hljs-string\">\"Number of elements: \"</span> &#x3C;&#x3C; arr.size() &#x3C;&#x3C; <span class=\"hljs-built_in\">endl</span>;</code></pre>\n<p>Phương thức <strong>empty()</strong> trả về giá trị <strong>true</strong> nếu mảng bên trong đối tượng <strong>arr</strong> có số lượng phần tử là 0.</p>\n</li>\n<li>\n<p>Truy xuất đến phần tử đầu tiên và phần tử cuối cùng của mảng bên trong đối tượng của lớp <strong>array</strong>:</p>\n<pre><code class=\"hljs language-cpp\"><span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; <span class=\"hljs-string\">\"The first element: \"</span> &#x3C;&#x3C; arr.front() &#x3C;&#x3C; <span class=\"hljs-built_in\">endl</span>;\n<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; <span class=\"hljs-string\">\"The last element: \"</span> &#x3C;&#x3C; arr.back() &#x3C;&#x3C; <span class=\"hljs-built_in\">endl</span>;</code></pre>\n<p>Ví dụ mảng một chiều của mình được khởi tạo giá trị là 1 2 3 4 5. Kết quả in ra màn hình sẽ là:</p>\n<p><img src=\"https://github.com/nguyenchiemminhvu/CPP-Tutorial/blob/master/5-kieu-du-lieu-mang/5-2-thu-vien-array-trong-STL/2.png?raw=true\" width=\"667\" height=\"335\"></p>\n<p>Phương thức <strong>front()</strong> sẽ trả về giá trị của phần tử đầu tiên trong mảng, ngược lại, phương thức <strong>back()</strong> sẽ trả về giá trị của phần tử cuối cùng trong mảng.</p>\n</li>\n</ul>\n\n<h5>Nhập dữ liệu cho đối tượng của lớp array</h5>\n\n<p>Tương tự lúc các bạn nhập dữ liệu cho mảng một chiều thông thường, chúng ta sử dụng đối tượng <strong>cin</strong> để đưa giá trị được nhập từ bàn phím vào trong mỗi phần tử mà đối tượng của lớp <strong>array</strong> đang nắm giữ.</p>\n\n<pre><code class=\"hljs language-cpp\"><span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">int</span> i = <span class=\"hljs-number\">0</span>; i &#x3C; arr.size(); i++) {\n\t\n\t<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; <span class=\"hljs-string\">\"Enter value to element \"</span> &#x3C;&#x3C; i + <span class=\"hljs-number\">1</span> &#x3C;&#x3C; <span class=\"hljs-string\">\": \"</span>;\n\t<span class=\"hljs-built_in\">cin</span> >> arr[i];\n}</code></pre>\n\n<h5>Lớp array ngăn chặn hành vi truy cập phần tử có chỉ số không phù hợp</h5>\n\n<p>Chúng ta chỉ có thể truy xuất đến các phần tử trong đối tượng của lớp <strong>array</strong> với chỉ số trong phạm vi từ <code>0</code> đến <code>(size() - 1)</code>. Sau đây là những hành vi truy xuất hợp lệ:</p>\n\n<pre><code class=\"hljs language-cpp\"><span class=\"hljs-meta\">#<span class=\"hljs-meta-keyword\">define</span> ARRAY_SIZE 10</span>\n<span class=\"hljs-built_in\">array</span>&#x3C;<span class=\"hljs-keyword\">int32_t</span>, ARRAY_SIZE> arr;\narr.assign(<span class=\"hljs-number\">10</span>);\n\n<span class=\"hljs-comment\">//Access to all of elements of arr object</span>\n<span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">int32_t</span> index = <span class=\"hljs-number\">0</span>; index &#x3C;= arr.size() - <span class=\"hljs-number\">1</span>; index++) {\n\t<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; arr[index] &#x3C;&#x3C; <span class=\"hljs-string\">\" \"</span>;\n}\n<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; <span class=\"hljs-built_in\">endl</span>;</code></pre>\n\n<p>Và dưới đây là một số hành vi truy xuất giá trị của đối tượng arr bằng những chỉ số không hợp lệ:</p>\n\n<pre><code class=\"hljs language-smali\">//Try to access<span class=\"hljs-built_in\"> array </span>with wrong index\narr[-1];\narr[arr.size() + 10];</code></pre>\n\n<p>Khi gặp những dòng lệnh này, <strong>compiler</strong> sẽ đưa ra cảnh báo:</p>\n\n<p><img src=\"https://github.com/nguyenchiemminhvu/CPP-Tutorial/blob/master/5-kieu-du-lieu-mang/5-2-thu-vien-array-trong-STL/3.png?raw=true\" width=\"495\" height=\"320\"></p>\n\n<p>Vì bên trong lớp <strong>array</strong> có sử dụng thư viện <strong>cassert</strong> để đặt ra những <strong>Assertion</strong>, những Assertion này kiểm tra về chỉ số mà bạn đưa vào cho toán tử <strong>[ ]</strong> và phương thức <strong>at()</strong> để kiểm tra sự hợp lệ của chỉ số trước khi thực hiện lệnh. Mọi hành vì không phù hợp với điều kiện trong <strong>Assertion</strong> sẽ bị ngăn chặn.</p>\n\n<p>Các bạn cũng có thể tự mình tạo ra những <strong>Assertion</strong> bằng cách sử dụng thư viện <strong>cassert</strong>.</p>\n\n<h3>Thư viện cassert</h3>\n\n<p>Thư viện <strong>cassert</strong> cung cấp cho chúng ta macro có tên là <code>assert(expression)</code> giúp chúng ta tạo ra những <strong>Assertion</strong> trong chương trình.</p>\n\n<p>Khi gặp macro <strong>assert(expression)</strong>, chương trình sẽ kiểm tra biểu thức <em>expression</em> (là một biểu thức điều kiện có thể trả về giá trị <strong>true/false</strong>) và có hai trường hợp có thể xảy ra:</p>\n\n<ul>\n<li>\n<p><strong>expression</strong> trả về giá trị <strong>true</strong>:</p>\n<p>Chương trình sẽ tiếp tục thực hiện các dòng lệnh phía sau <strong>Assertion</strong> một cách bình thường. Ví dụ:</p>\n<pre><code class=\"hljs language-cpp\"><span class=\"hljs-keyword\">float</span> f_value = <span class=\"hljs-number\">1.0</span>;\nassert(<span class=\"hljs-keyword\">typeid</span>(f_value) == <span class=\"hljs-keyword\">typeid</span>(<span class=\"hljs-keyword\">float</span>));\n\nf_value++;\n<span class=\"hljs-built_in\">cout</span> &#x3C;&#x3C; f_value &#x3C;&#x3C; <span class=\"hljs-built_in\">endl</span>;</code></pre>\n<p>Đoạn chương trình trên có 1 <strong>Assertion</strong> thực hiện công việc kiểm tra kiểu dữ liệu của biến <strong>f_value</strong>. Vì biểu thức <code>typeid(f_value) == typeid(float)</code> trả về giá trị <strong>true</strong>, nên chương trình vẫn được tiếp tục hoạt động.</p>\n</li>\n<li>\n<p><strong>expression</strong> trả về giá trị <strong>false</strong>:</p>\n<p>Chương trình sẽ dừng lại tại thời điểm phát hiện biểu thức bên trong <strong>Assertion</strong> cho giá trị <strong>false</strong>.</p>\n<pre><code class=\"hljs language-irpf90\">#define ARRAY_SIZE <span class=\"hljs-number\">5</span>\narray&#x3C;int32_t, ARRAY_SIZE> arr;\n\nfor(int32_t <span class=\"hljs-built_in\">index</span> = <span class=\"hljs-number\">0</span>; <span class=\"hljs-built_in\">index</span> &#x3C;= arr.<span class=\"hljs-built_in\">size</span>(); <span class=\"hljs-built_in\">index</span>++)\t{\n\n\t<span class=\"hljs-keyword\">assert</span>(<span class=\"hljs-built_in\">index</span> >= <span class=\"hljs-number\">0</span> &#x26;&#x26; <span class=\"hljs-built_in\">index</span> &#x3C;= arr.<span class=\"hljs-built_in\">size</span>() - <span class=\"hljs-number\">1</span>);\t\t\t\n\tcin >> arr[<span class=\"hljs-built_in\">index</span>];\t\t\n}</code></pre>\n<p>Đoạn chương trình trên thực hiện nhập dữ liệu cho đối tượng <strong>arr</strong> có kiểu <strong>array</strong>. Bên trong vòng lặp <strong>for</strong>, mình đặt 1 <strong>Assertion</strong> nhằm kiểm tra chỉ số của mảng có được cung cấp chính xác hay không. Chỉ số chính xác sẽ nằm trong khoảng từ <code>0</code> đến <code>(arr.size() - 1)</code>.</p>\n<p>Bây giờ mình sẽ chạy đoạn chương trình trên để xem kết quả:</p>\n<p></p><div class=\"lightbox-wrapper\"><a href=\"https://github.com/nguyenchiemminhvu/CPP-Tutorial/blob/master/5-kieu-du-lieu-mang/5-2-thu-vien-array-trong-STL/4.png?raw=true\" class=\"lightbox\" title=\"4.png?raw=true\" rel=\"nofollow\"><img src=\"https://github.com/nguyenchiemminhvu/CPP-Tutorial/blob/master/5-kieu-du-lieu-mang/5-2-thu-vien-array-trong-STL/4.png?raw=true\" width=\"690\" height=\"323\"><div class=\"meta\">\n<span class=\"filename\">4.png?raw=true</span><span class=\"informations\">793x372</span><span class=\"expand\"></span>\n</div></a></div><p></p>\n<p>Ngoài việc chương trình đưa ra cửa sổ thông báo lỗi và bắt các bạn Abort chương trình đang chạy, trên cửa sổ console còn đưa ra thông báo lỗi tại dòng mình đặt <strong>Assertion</strong>.</p>\n<p>Trước khi lỗi xảy ra, mình vẫn nhập dữ liệu bình thường. Vì lúc đó chỉ số index của vòng lặp <strong>for</strong> vẫn thõa mãn biểu thức điều kiện bên trong <strong>Assertion</strong>. Nhưng mà vòng lặp for của mình lại lặp với biến index chạy từ 0 đến <strong>arr.size()</strong>, vì thế, giá trị index tại lần lặp cuối cùng đã vi phạm biểu thức trong <strong>Assertion</strong> mà mình tự đặt ra.</p>\n</li>\n</ul>\n\n<h2></h2>\n\n<h3>Tổng kết</h3>\n\n<p>Trong bài học hôm nay, các bạn đã được tìm hiểu thêm thư viện <strong>array</strong> hổ trợ cho các bạn quản lý mảng một chiều một cách hiệu quả và dễ dàng hơn. Mình cũng đã hướng dẫn cho các bạn cách để tạo ra những <strong>Assertion</strong> cho chương trình của các bạn với thư viện <strong>cassert</strong>. Bất cứ khi nào các bạn cần đảm bảo chương trình của các bạn không vi phạm quy tắc nào đó, các bạn có thể dùng macro <strong>assert(expression)</strong> của thư viện <strong>cassert</strong> để hạn chế những lỗi có thể xảy ra.</p>\n\n<hr>\n\n<p><strong>Hẹn gặp lại các bạn trong bài học tiếp theo trong khóa học lập trình C++ hướng thực hành.</strong></p>\n\n<p>Mọi ý kiến đóng góp hoặc thắc mắc có thể đặt câu hỏi trực tiếp tại diễn đàn.</p>\n\n<p><a title=\"DayNhauHoc\" class=\"onebox\" target=\"_blank\">www.daynhauhoc.com</a></p>\n\n<hr>\n\n<h3>Link Videos khóa học</h3>\n\n<p><a href=\"https://www.udemy.com/c-co-ban-danh-cho-nguoi-moi-hoc-lap-trinh/learn/v4/overview\" class=\"onebox\" target=\"_blank\" rel=\"nofollow\">https://www.udemy.com/c-co-ban-danh-cho-nguoi-moi-hoc-lap-trinh/learn/v4/overview</a></p>\n</body></html>","__filename":"generated/30083.md","__url":"/5/2-thu-vien-array-trong-stl/","__resourceUrl":"/5/2-thu-vien-array-trong-stl/index.html","__dataUrl":"/5/2-thu-vien-array-trong-stl/index.html.f6855e3cf847058a20cddbfbd1924e9a.json"}